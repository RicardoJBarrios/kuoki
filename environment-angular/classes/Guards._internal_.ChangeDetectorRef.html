<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ChangeDetectorRef | @kuoki/environment-angular</title><meta name="description" content="Documentation for @kuoki/environment-angular"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@kuoki/environment-angular</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@kuoki/environment-angular</a></li><li><a href="../modules/Guards.html">Guards</a></li><li><a href="../modules/Guards._internal_.html">&lt;internal&gt;</a></li><li><a href="Guards._internal_.ChangeDetectorRef.html">ChangeDetectorRef</a></li></ul><h1>Class ChangeDetectorRef <span class="tsd-flag ts-flagAbstract">Abstract</span> </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Base class that provides change detection functionality.
A change-detection tree collects all views that are to be checked for changes.
Use the methods to add and remove views from the tree, initiate change-detection,
and explicitly mark views as <em>dirty</em>, meaning that they have changed and need to be re-rendered.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="guide/lifecycle-hooks#using-change-detection-hooks">Using change detection hooks</a></p>
</dd><dt>see</dt><dd><p><a href="guide/lifecycle-hooks#defining-custom-change-detection">Defining custom change detection</a></p>
</dd><dt>usagenotes</dt><dd><p>The following examples demonstrate how to modify default change-detection behavior
to perform explicit detection when needed.</p>

<a href="#use-markforcheck-with-checkonce-strategy" id="use-markforcheck-with-checkonce-strategy" style="color: inherit; text-decoration: none;">
  <h3>Use <code>markForCheck()</code> with <code>CheckOnce</code> strategy</h3>
</a>
<p>The following example sets the <code>OnPush</code> change-detection strategy for a component
(<code>CheckOnce</code>, rather than the default <code>CheckAlways</code>), then forces a second check
after an interval. See <a href="https://plnkr.co/edit/GC512b?p=preview">live demo</a>.</p>
<p><code-example path="core/ts/change_detect/change-detection.ts"
region="mark-for-check"></code-example></p>

<a href="#detach-change-detector-to-limit-how-often-check-occurs" id="detach-change-detector-to-limit-how-often-check-occurs" style="color: inherit; text-decoration: none;">
  <h3>Detach change detector to limit how often check occurs</h3>
</a>
<p>The following example defines a component with a large list of read-only data
that is expected to change constantly, many times per second.
To improve performance, we want to check and update the list
less often than the changes actually occur. To do that, we detach
the component&#39;s change detector and perform an explicit local check every five seconds.</p>
<p><code-example path="core/ts/change_detect/change-detection.ts" region="detach"></code-example></p>

<a href="#reattaching-a-detached-component" id="reattaching-a-detached-component" style="color: inherit; text-decoration: none;">
  <h3>Reattaching a detached component</h3>
</a>
<p>The following example creates a component displaying live data.
The component detaches its change detector from the main change detector tree
when the <code>live</code> property is set to false, and reattaches it when the property
becomes true.</p>
<p><code-example path="core/ts/change_detect/change-detection.ts" region="reattach"></code-example></p>
</dd><dt>publicapi</dt><dd></dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">ChangeDetectorRef</span><ul class="tsd-hierarchy"><li><a href="Guards._internal_.ViewRef.html" class="tsd-signature-type" data-tsd-kind="Class">ViewRef</a></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section tsd-is-external"><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-external"><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#checkNoChanges" class="tsd-kind-icon">check<wbr/>No<wbr/>Changes</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#detach" class="tsd-kind-icon">detach</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#detectChanges" class="tsd-kind-icon">detect<wbr/>Changes</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#markForCheck" class="tsd-kind-icon">mark<wbr/>For<wbr/>Check</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#reattach" class="tsd-kind-icon">reattach</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group tsd-is-external"><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-external"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-external"><li class="tsd-signature tsd-kind-icon">new <wbr/>Change<wbr/>Detector<wbr/>Ref<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Guards._internal_.ChangeDetectorRef.html" class="tsd-signature-type" data-tsd-kind="Class">ChangeDetectorRef</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="Guards._internal_.ChangeDetectorRef.html" class="tsd-signature-type" data-tsd-kind="Class">ChangeDetectorRef</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-external"><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-external"><a id="checkNoChanges" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagAbstract">Abstract</span> check<wbr/>No<wbr/>Changes<a href="#checkNoChanges" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-external"><li class="tsd-signature tsd-kind-icon">check<wbr/>No<wbr/>Changes<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/@angular/core/index.d.ts:776</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Checks the change detector and its children, and throws if any changes are detected.</p>
</div><div><p>Use in development mode to verify that running change detection doesn&#39;t introduce
other changes. Calling it in production mode is a noop.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-external"><a id="detach" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagAbstract">Abstract</span> detach<a href="#detach" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-external"><li class="tsd-signature tsd-kind-icon">detach<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/@angular/core/index.d.ts:759</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Detaches this view from the change-detection tree.
A detached view is  not checked until it is reattached.
Use in combination with <code>detectChanges()</code> to implement local change detection checks.</p>
</div><div><p>Detached views are not checked during change detection runs until they are
re-attached, even if they are marked as dirty.</p>
<!-- TODO: Add a link to a chapter on detach/reattach/local digest -->
<!-- TODO: Add a live demo once ref.detectChanges is merged into master -->

</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-external"><a id="detectChanges" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagAbstract">Abstract</span> detect<wbr/>Changes<a href="#detectChanges" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-external"><li class="tsd-signature tsd-kind-icon">detect<wbr/>Changes<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/@angular/core/index.d.ts:769</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Checks this view and its children. Use in combination with {@link ChangeDetectorRef#detach
detach}
to implement local change detection checks.</p>
</div><div><!-- TODO: Add a link to a chapter on detach/reattach/local digest -->
<!-- TODO: Add a live demo once ref.detectChanges is merged into master -->

</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-external"><a id="markForCheck" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagAbstract">Abstract</span> mark<wbr/>For<wbr/>Check<a href="#markForCheck" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-external"><li class="tsd-signature tsd-kind-icon">mark<wbr/>For<wbr/>Check<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/@angular/core/index.d.ts:746</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>When a view uses the {@link ChangeDetectionStrategy#OnPush OnPush} (checkOnce)
change detection strategy, explicitly marks the view as changed so that
it can be checked again.</p>
</div><div><p>Components are normally marked as dirty (in need of rerendering) when inputs
have changed or events have fired in the view. Call this method to ensure that
a component is checked even if these triggers have not occured.</p>
<!-- TODO: Add a link to a chapter on OnPush components -->

</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-external"><a id="reattach" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagAbstract">Abstract</span> reattach<a href="#reattach" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-external"><li class="tsd-signature tsd-kind-icon">reattach<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in node_modules/@angular/core/index.d.ts:784</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Re-attaches the previously detached view to the change detection tree.
Views are attached to the tree by default.</p>
</div><div><!-- TODO: Add a link to a chapter on detach/reattach/local digest -->

</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/Decorators.html">Decorators</a></li><li class=" tsd-kind-module"><a href="../modules/EnvironmentLoader.html">Environment<wbr/>Loader</a></li><li class=" tsd-kind-module"><a href="../modules/EnvironmentModule.html">Environment<wbr/>Module</a></li><li class=" tsd-kind-module"><a href="../modules/EnvironmentQuery.html">Environment<wbr/>Query</a></li><li class=" tsd-kind-module"><a href="../modules/EnvironmentService.html">Environment<wbr/>Service</a></li><li class=" tsd-kind-module"><a href="../modules/EnvironmentSource.html">Environment<wbr/>Source</a></li><li class=" tsd-kind-module"><a href="../modules/EnvironmentStore.html">Environment<wbr/>Store</a></li><li class="current tsd-kind-module"><a href="../modules/Guards.html">Guards</a><ul><li class="current tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/Guards._internal_.html">&lt;internal&gt;</a></li></ul></li><li class=" tsd-kind-module"><a href="../modules/Helpers.html">Helpers</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-namespace tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html" class="tsd-kind-icon">Change<wbr/>Detector<wbr/>Ref</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#checkNoChanges" class="tsd-kind-icon">check<wbr/>No<wbr/>Changes</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#detach" class="tsd-kind-icon">detach</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#detectChanges" class="tsd-kind-icon">detect<wbr/>Changes</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#markForCheck" class="tsd-kind-icon">mark<wbr/>For<wbr/>Check</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-external"><a href="Guards._internal_.ChangeDetectorRef.html#reattach" class="tsd-kind-icon">reattach</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>