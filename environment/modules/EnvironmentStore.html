<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>EnvironmentStore | @kuoki/environment</title><meta name="description" content="Documentation for @kuoki/environment"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@kuoki/environment</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@kuoki/environment</a></li><li><a href="EnvironmentStore.html">EnvironmentStore</a></li></ul><h1>Module EnvironmentStore</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<blockquote>
<p>Stores the environment properties that the application needs.</p>
</blockquote>
</div><div><p>It is important to ensure that <strong>the store update is an overwrite and not a partial update</strong>,
as the service will manage the entire environment in the implementation,
and a partial update can cause inconsistencies.</p>
<pre><code class="language-js"><span class="hl-7">// Overwrite</span><br/><span class="hl-7">// EnvironmentState = {a:0}</span><br/><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">update</span><span class="hl-0">({ </span><span class="hl-2">b:</span><span class="hl-0"> </span><span class="hl-8">0</span><span class="hl-0"> });</span><br/><span class="hl-7">// EnvironmentState = {b:0}</span><br/><br/><span class="hl-7">// Partial Update</span><br/><span class="hl-7">// EnvironmentState = {a:0}</span><br/><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">update</span><span class="hl-0">({ </span><span class="hl-2">b:</span><span class="hl-0"> </span><span class="hl-8">0</span><span class="hl-0"> });</span><br/><span class="hl-7">// EnvironmentState = {a:0,b:0}</span>
</code></pre>

<a href="#use-cases" id="use-cases" style="color: inherit; text-decoration: none;">
  <h2>Use cases</h2>
</a>
<p>Below we present the implementation of this gateway with some state managers.
It is not intended to be an exhaustive list of integrations with all the functionalities,
but an example of how to use the current application&#39;s state manager.</p>

<a href="#rxjs" id="rxjs" style="color: inherit; text-decoration: none;">
  <h3>RxJS</h3>
</a>
<p>A basic RxJS implementation that uses a <a href="https://rxjs.dev/api/index/class/BehaviorSubject">BehaviorSubject</a> as state manager.</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">BehaviorSubject</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;rxjs&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">initialState</span><span class="hl-0"> = {};</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">store</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">BehaviorSubject</span><span class="hl-0">(</span><span class="hl-2">initialState</span><span class="hl-0">);</span><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">environmentStore</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-6">getAll$</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">asObservable</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-6">getAll</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-6">update</span><span class="hl-2">:</span><span class="hl-0"> (</span><span class="hl-2">environment</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">next</span><span class="hl-0">(</span><span class="hl-2">environment</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-6">reset</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">next</span><span class="hl-0">(</span><span class="hl-2">initialState</span><span class="hl-0">),</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#redux" id="redux" style="color: inherit; text-decoration: none;">
  <h3>Redux</h3>
</a>
<p><a href="https://redux.js.org/">Redux</a> is a predictable state container for JavaScript apps.</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">createStore</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;redux&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">from</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;rxjs&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">initialState</span><span class="hl-0"> = {};</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">reducer</span><span class="hl-0"> = (</span><span class="hl-2">state</span><span class="hl-0"> = </span><span class="hl-2">initialState</span><span class="hl-0">, </span><span class="hl-2">action</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-1">switch</span><span class="hl-0"> (</span><span class="hl-2">action</span><span class="hl-0">.</span><span class="hl-2">type</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-1">case</span><span class="hl-0"> </span><span class="hl-3">&#39;UPDATE&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-2">action</span><span class="hl-0">.</span><span class="hl-2">environment</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">case</span><span class="hl-0"> </span><span class="hl-3">&#39;RESET&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-2">initialState</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">default</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-2">state</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">};</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">store</span><span class="hl-0"> = </span><span class="hl-6">createStore</span><span class="hl-0">(</span><span class="hl-2">reducer</span><span class="hl-0">);</span><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">environmentStore</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-6">getAll$</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0">(</span><span class="hl-2">store</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-6">getAll</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">getState</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-6">update</span><span class="hl-2">:</span><span class="hl-0"> (</span><span class="hl-2">environment</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">dispatch</span><span class="hl-0">({ </span><span class="hl-2">type:</span><span class="hl-0"> </span><span class="hl-3">&#39;UPDATE&#39;</span><span class="hl-0">, </span><span class="hl-2">environment</span><span class="hl-0"> }),</span><br/><span class="hl-0">  </span><span class="hl-6">reset</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">dispatch</span><span class="hl-0">({ </span><span class="hl-2">type:</span><span class="hl-0"> </span><span class="hl-3">&#39;RESET&#39;</span><span class="hl-0"> }),</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#akita" id="akita" style="color: inherit; text-decoration: none;">
  <h3>Akita</h3>
</a>
<p><a href="https://datorama.github.io/akita/">Akita</a> is a state management pattern built on top of RxJS.</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">createStore</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@datorama/akita&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">store</span><span class="hl-0"> = </span><span class="hl-6">createStore</span><span class="hl-0">({}, { </span><span class="hl-2">name:</span><span class="hl-0"> </span><span class="hl-3">&#39;environment&#39;</span><span class="hl-0">, </span><span class="hl-2">resettable:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0"> });</span><br/><span class="hl-1">export</span><span class="hl-0"> </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">environmentStore</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-6">getAll$</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">_select</span><span class="hl-0">((</span><span class="hl-2">state</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">state</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-6">getAll</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-6">update</span><span class="hl-2">:</span><span class="hl-0"> (</span><span class="hl-2">environment</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">_setState</span><span class="hl-0">(</span><span class="hl-2">environment</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-6">reset</span><span class="hl-2">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">store</span><span class="hl-0">.</span><span class="hl-6">reset</span><span class="hl-0">(),</span><br/><span class="hl-0">};</span>
</code></pre>
</div></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Classes</h3><ul class="tsd-index-list"><li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/EnvironmentStore.EnvironmentStore-1.html" class="tsd-kind-icon">Environment<wbr/>Store</a></li></ul></section><section class="tsd-index-section "><h3>Type aliases</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="EnvironmentStore.html#EnvironmentState" class="tsd-kind-icon">Environment<wbr/>State</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="EnvironmentStore.html#Property" class="tsd-kind-icon">Property</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="EnvironmentState" class="tsd-anchor"></a><h3>Environment<wbr/>State</h3><div class="tsd-signature tsd-kind-icon">Environment<wbr/>State<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/RicardoJBarrios/kuoki/blob/471629c/packages/environment/src/lib/store/environment-state.type.ts#L6">packages/environment/src/lib/store/environment-state.type.ts:6</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Environment properties required to run the application.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>x: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="EnvironmentStore.html#Property" class="tsd-signature-type" data-tsd-kind="Type alias">Property</a></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="Property" class="tsd-anchor"></a><h3>Property</h3><div class="tsd-signature tsd-kind-icon">Property<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="EnvironmentStore.html#Property" class="tsd-signature-type" data-tsd-kind="Type alias">Property</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/RicardoJBarrios/kuoki/blob/471629c/packages/environment/src/lib/store/property.type.ts#L4">packages/environment/src/lib/store/property.type.ts:4</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>An environment property value.</p>
</div></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="EnvironmentLoader.html">Environment<wbr/>Loader</a></li><li class=" tsd-kind-module"><a href="EnvironmentQuery.html">Environment<wbr/>Query</a></li><li class=" tsd-kind-module"><a href="EnvironmentService.html">Environment<wbr/>Service</a></li><li class=" tsd-kind-module"><a href="EnvironmentSource.html">Environment<wbr/>Source</a></li><li class="current tsd-kind-module"><a href="EnvironmentStore.html">Environment<wbr/>Store</a></li><li class=" tsd-kind-module"><a href="Helpers.html">Helpers</a></li><li class=" tsd-kind-module"><a href="Path.html">Path</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/EnvironmentStore.EnvironmentStore-1.html" class="tsd-kind-icon">Environment<wbr/>Store</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="EnvironmentStore.html#EnvironmentState" class="tsd-kind-icon">Environment<wbr/>State</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="EnvironmentStore.html#Property" class="tsd-kind-icon">Property</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>